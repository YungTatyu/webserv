events {}

http {
	server {
		listen 127.0.0.1:8001 default_server;
		server_name test_server;
		root test/server/ResponseTestFiles;

		location / {
			index testHtml/index.html;
		}

		location /alias/ {
			alias test/server/ResponseTestFiles/aliasHtml;
			try_files /alias.html nothing.html /;
		}

		location /location-root/ {
			root test/server/ResponseTestFiles/testHtml;
			index index.html;
			try_files /index.html /40x.html /alias/;
		}

		location /redirect/ {
			try_files nothing.html no.html /internal_redirect/;
		}

		location /internal_redirect/ {
			alias test/server/ResponseTestFiles/testHtml;
			try_files /internal_redirect.html /;
		}

		error_page 405 /;
		location /code-error-page/ {
			try_files /nothing.html /no.html =405;
		}
	}

}
