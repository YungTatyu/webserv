FROM alpine:latest

WORKDIR .

RUN apk add --update --no-cache clang-format

RUN apk add -y python3 python3-pip && \
    python3 -m pip install --upgrade pip && \
    python3 -m pip install black

RUN apk add --no-cache go vim git make musl-dev curl && \
    apk add GO111MODULE=on go install mvdan.cc/sh/v3/cmd/shfmt@latest

COPY . .

CMD ["/bin/bash", "formatter.sh"]